"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var defaultGenerators_1 = require("./generator/defaultGenerators");
var parser_1 = require("./datamodel/parser");
var utilities_1 = require("graphql/utilities");
/**
 * Computes the internal type representation for a model.
 * @param model The model in SDL as string.
 * @returns An array of all types present in the model.
 */
function parseInternalTypes(model) {
    return parser_1.default.parseFromSchemaString(model);
}
exports.parseInternalTypes = parseInternalTypes;
/**
 * Computes a prisma OpenCRUD schema for a given model.
 * @param model The model in SDL as string.
 * @returns The OpenCRUD schema as graphql-js schema object for the given model.
 */
function generateCRUDSchema(model) {
    var generators = new defaultGenerators_1.default();
    var types = parseInternalTypes(model).sort(function (_a, _b) {
        var a = _a.name;
        var b = _b.name;
        return (a > b ? 1 : -1);
    });
    return generators.schema.generate(types, {});
}
exports.generateCRUDSchema = generateCRUDSchema;
/**
 * Computes a prisma OpenCRUD schema for a given model.
 * @param model The model in SDL as string.
 * @returns The OpenCRUD schema as prettified string for the given model.
 */
function generateCRUDSchemaString(model) {
    return utilities_1.printSchema(generateCRUDSchema(model));
}
exports.default = generateCRUDSchemaString;
//# sourceMappingURL=index.js.map